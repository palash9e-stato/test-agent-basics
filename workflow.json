{
  "name": "test 1",
  "nodes": [
    {
      "parameters": {
        "formTitle": "MY TEAM",
        "formFields": {
          "values": [
            {
              "fieldLabel": "Name",
              "placeholder": "your name..."
            },
            {
              "fieldLabel": "Looks"
            },
            {
              "fieldLabel": "Profession",
              "fieldType": "dropdown",
              "fieldOptions": {
                "values": [
                  { "option": "Video Editor" },
                  { "option": "Lawyer" },
                  { "option": "Professor" }
                ]
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.formTrigger",
      "typeVersion": 2.3,
      "position": [-16, 0],
      "id": "form-submission",
      "name": "form submission",
      "webhookId": "REPLACE_WEBHOOK_ID"
    },
    {
      "parameters": {
        "operation": "create",
        "base": "REPLACE_AIRTABLE_BASE_ID",
        "table": "REPLACE_TABLE_ID",
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Name": "={{ $json.Name }}",
            "Looks": "={{ $json.Looks }}",
            "Profession": "={{ $json.Profession }}"
          }
        },
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [208, 0],
      "id": "update-airtable",
      "name": "update in airtable",
      "credentials": {
        "airtableTokenApi": "={{ $env.AIRTABLE_API_KEY }}"
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "conditions": [
                  {
                    "leftValue": "={{ $json.fields.Profession }}",
                    "rightValue": "Video Editor",
                    "operator": { "type": "string", "operation": "equals" }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "conditions": [
                  {
                    "leftValue": "={{ $json.fields.Profession }}",
                    "rightValue": "Professor",
                    "operator": { "type": "string", "operation": "equals" }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "conditions": [
                  {
                    "leftValue": "={{ $json.fields.Profession }}",
                    "rightValue": "Lawyer",
                    "operator": { "type": "string", "operation": "equals" }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        }
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.3,
      "position": [416, 0],
      "id": "pathways",
      "name": "pathways"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=You are the best professor in the world and you love guiding people. Create a 2-line quote using:\nName: {{ $json.fields.Name }}\nLooks: {{ $json.fields.Looks }}\nProfession: {{ $json.fields.Profession }}",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [912, 304],
      "id": "ai-agent",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [864, 480],
      "id": "gemini-model",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": "={{ $env.GEMINI_API_KEY }}"
      }
    },
    {
      "parameters": {
        "operation": "update",
        "base": "REPLACE_AIRTABLE_BASE_ID",
        "table": "REPLACE_TABLE_ID",
        "columns": {
          "mappingMode": "defineBelow",
          "value": { "id": "={{ $json.id }}", "Rating": 5 }
        }
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [624, -112],
      "id": "vr-ratings",
      "name": "VR ratings",
      "credentials": {
        "airtableTokenApi": "={{ $env.AIRTABLE_API_KEY }}"
      }
    },
    {
      "parameters": {
        "operation": "update",
        "base": "REPLACE_AIRTABLE_BASE_ID",
        "table": "REPLACE_TABLE_ID",
        "columns": {
          "mappingMode": "defineBelow",
          "value": { "id": "={{ $json.id }}", "Rating": 1 }
        }
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [624, 80],
      "id": "p-ratings",
      "name": "P ratings",
      "credentials": {
        "airtableTokenApi": "={{ $env.AIRTABLE_API_KEY }}"
      }
    },
    {
      "parameters": {
        "operation": "update",
        "base": "REPLACE_AIRTABLE_BASE_ID",
        "table": "REPLACE_TABLE_ID",
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id": "={{ $json.id }}",
            "Rating": 3,
            "Name": "={{ $json.fields.Name }}"
          }
        }
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [624, 240],
      "id": "l-ratings",
      "name": "L ratings",
      "credentials": {
        "airtableTokenApi": "={{ $env.AIRTABLE_API_KEY }}"
      }
    },
    {
      "parameters": {
        "operation": "update",
        "base": "REPLACE_AIRTABLE_BASE_ID",
        "table": "REPLACE_TABLE_ID",
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Quote": "={{ $json.output }}",
            "id": "={{ $('update-airtable').item.json.id }}"
          }
        }
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [1264, 304],
      "id": "update-record",
      "name": "Update record",
      "credentials": {
        "airtableTokenApi": "={{ $env.AIRTABLE_API_KEY }}"
      }
    }
  ],
  "connections": {
    "form submission": { "main": [[{ "node": "update-airtable", "type": "main", "index": 0 }]] },
    "update-airtable": { "main": [[{ "node": "pathways", "type": "main", "index": 0 }]] },
    "pathways": {
      "main": [
        [{ "node": "vr-ratings", "type": "main", "index": 0 }],
        [{ "node": "p-ratings", "type": "main", "index": 0 }],
        [{ "node": "l-ratings", "type": "main", "index": 0 }]
      ]
    },
    "gemini-model": {
      "ai_languageModel": [[{ "node": "ai-agent", "type": "ai_languageModel", "index": 0 }]]
    },
    "l-ratings": { "main": [[{ "node": "ai-agent", "type": "main", "index": 0 }]] },
    "ai-agent": { "main": [[{ "node": "update-record", "type": "main", "index": 0 }]] },
    "p-ratings": { "main": [[{ "node": "ai-agent", "type": "main", "index": 0 }]] },
    "vr-ratings": { "main": [[{ "node": "ai-agent", "type": "main", "index": 0 }]] }
  },
  "active": false,
  "settings": {},
  "versionId": "REPLACED",
  "meta": {},
  "id": "REPLACE_WORKFLOW_ID",
  "tags": []
}
